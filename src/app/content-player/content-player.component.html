<!-- content-player.component.html -->
<div [ngSwitch]="filesData[currentIndex]?.type" class="media-container">
    <img *ngSwitchCase="'image'" style="height: 100%; width: 100%; object-fit: fill !important;"
        [src]="filesData[currentIndex].Url" alt="image"
        class="media-image" />

    <video #videoEl  *ngSwitchCase="'video'" preload="none"
        style="min-height: 100%; min-width: 100%; object-fit: fill !important;" id="media-video"
        [src]="filesData[currentIndex].Url" class="media-video" autoplay muted
        playsinline [loop]="filesData.length === 1 && splitScreen.length === 1"></video>


    <ng-container *ngSwitchCase="'youtube'">
        <app-ytplayer *ngIf="playerRecreateKey" [url]="filesData[currentIndex].Url" [index]="currentIndex"
            [loop]="filesData.length === 1" (videoEnded)="onVideoEnded($event)">
        </app-ytplayer>
    </ng-container>

    <app-pdf-viewer *ngSwitchCase="'pdf'" [loop]="filesData.length === 1" (pdfEnded)="onVideoEnded($event)"
        [url]="filesData[currentIndex].Url">
    </app-pdf-viewer>
</div>
<!-- Lightweight Transition Overlay -->
<div class="transition-overlay" *ngIf="isSwitching"></div>
<!-- Added overlay for fully unsupported scenario -->
<div class="unsupported-backdrop" *ngIf="showUnsupportedOverlay"></div>
<div class="unsupported-ui" *ngIf="showUnsupportedOverlay">
    <div class="icon">⚠️</div>
    <div class="text">Unsupported File Format</div>
</div>