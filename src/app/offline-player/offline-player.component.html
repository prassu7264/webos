<!-- offline-player.component.html -->
<div class="offline-root">
  <div *ngIf="!fullscreenMedia" class="grid-wrap">
    <div class="grid" role="list">
      <div *ngFor="let media of downloaded; let i = index"
           role="listitem"
           class="grid-item"
           [class.selected]="i === selectedIndex"
           (click)="selectMedia(i)">
        <div class="thumb">
          <img *ngIf="media.type === 'image'" [src]="media.localPath" alt="thumb" />
          <video *ngIf="media.type === 'video'" [src]="media.localPath" muted preload="metadata"></video>
          <div *ngIf="media.type === 'pdf'">ðŸ“„ PDF</div>
        </div>
        <div class="meta">
          <div class="name">{{ media.fileName }}</div>
        </div>
      </div>
    </div>
    <div class="controls">
      <button (click)="goBack()">Back</button>
      <p *ngIf="downloaded.length === 0">No downloaded media available.</p>
    </div>
  </div>

  <div *ngIf="fullscreenMedia" class="fullscreen">
    <button class="back-btn" (click)="exitFullscreen()">Back</button>
    <div class="player">
      <img *ngIf="fullscreenMedia.type === 'image'" [src]="fullscreenMedia.localPath" style="width:100%;height:100%;object-fit:cover" />
      <video *ngIf="fullscreenMedia.type === 'video'" [src]="fullscreenMedia.localPath" autoplay controls style="width:100%;height:100%;object-fit:cover"></video>
      <div *ngIf="fullscreenMedia.type === 'pdf'">PDF preview not implemented in this view</div>
    </div>
  </div>
</div>

<!-- minimal styles recommended in your scss: grid 2x2 etc. -->
